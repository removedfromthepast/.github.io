<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf8">
        <link rel="stylesheet" href="stylesheets/BlogStyles.css">
        <title>Download Removed From The Past</title>
    </head>
    <body>

        <!--haut de page-->
        <section class="top-page">
            <header>
                <img src="ProjetImages/TIMESOFT DEV.png" alt="Logo du studio de développement">
                <h3 class="top-phrase">Pour en savoir plus sur la création du jeu !</h3>
                <nav class="menu-principal">
                    <li><a class="button" href="./index.html">Accueil</a></li>
                    <li><a class="button" href="./BlogPage.html">L'épopée</a></li>
                    <li><a class="button" href="./ContactsPage.html">Contacts</a></li>
                    <li><a class="button" href="./AnnexePage.html">Annexe</a></li>
                </nav>
            </header>
        </section>

        <!--contenu-->
        <section class="mid-page">
            <div class="select">
                <ul>
                    <li> 
                        <button onclick="showOrHide(1)">Le projet S2 à l'EPITA</button> 
                        <div id="content1">
                            <p>
                                <!--Paragraphe sur le projet S2 en général (pour tout les groupe)
                                    expliquer ce que c'est et son déroulement sans exemple personel-->
                                Comme vous l'aurez peut-être déjà compris, nous sommes tous les quatre des étudiants en première année à l'EPITA.
                                Dans ce contexte, au deuxième semestre il nous est demandé de nous grouper pour un projet libre : 5 mois pour créer ce que l'on veux.
                                <br/>
                                <br/>
                                Evidemment il y a des contraintes. La plupart des étudiants choisissent de faire un jeu video. 
                                La première étape : il faut former un groupe de 3 à 4 étudiants de la promo.
                                <br/>
                                Ensuite vient le temps des idées. « Que faire ? », « Comment faire ? », « De quoi a-t-on besoin ? », etc.
                                Fin janvier, tout est récapitulé dans le <em>Cahier des Charges</em> (ou <em>CdC</em> pour les intimes).
                                <br/>
                                Nous avons 3 soutenances durant ces 5 mois qui permettent aux professeurs de suivre nos avancées.
                                La première soutenance sert à revoir les idées et le CdC, et à corriger les erreurs de début ou à rediriger les groupes qui voudraient faire des choses trop compliquées.
                                La seconde permet de revoir les derniers détails 
                                <!--fin du paragraphe-->
                            </p>
                            <img src="./ProjetImages/Personnage principal.png" alt="Le personnage principal du jeu">
                        </div>
                    </li>
                    <li>
                        <button onclick="showOrHide(2)">Idées et concepts</button>
                        <div id="content2">
                            <p>
                                <!--Paragraphe sur les premières idées du projet (début janvier)
                                    RPG 2D, inspirations etc.-->
                                    Depuis le début de notre réflexion, nous avons pensé à un jeu vidéo 2D sur ordinateur, et cela en C\# à l’aide de Unity. Nous n’avons pas dérivé de cette idée depuis. Cependant, notre première idée se présentait plus sous la forme d’un jeu tel que The Legend of Zelda. <br/>
                                    Après plusieurs séances de réflexion et pour satisfaire tout le monde, nous avons apporté des modifications en conséquence. Nous avons opté pour un jeu qui ressemble alors plus à un RPG (Role Playing Game). Nous sommes donc partis sur cette dernière idée, avec une histoire complètement nouvelle et inventée de toutes pièces à vous présenter. <br/>
                                    Ce jeu est donc un jeu entièrement en 2D basé sur un style RPG avec une vue de 45 degrés. Le but principal du jeu est de se balader dans le monde et de se battre contre des ennemis. Il existe une histoire principale qui est accessible en jouant seul et aussi un mode multijoueur, où l'histoire est désactivée et qui permet 2 personnes de jouer sur une même partie. <br/>
                                    Comme dans un RPG classique, de ennemis se déplacent sur la carte et les toucher lance un combat. Le joueur dirige un personnage qu'il doit alors faire monter de niveau en combattant ou en réalisant des quêtes, tout en pouvant s'aider d'objets qu'il peut trouver sur la carte, dans des magasins ou bien en battant des ennemis. <br/>
                                    Notre projet est un mélange de plusieurs façons de jouer, inspiré par plusieurs licences ou idées préexistantes. Ici, nous nous rapprochons le plus d’un RPG. Le premier RPG connu et publié remonte à 1975 avec le jeu dnd. <br/>
                                    Ce jeu a été développé par deux Américains, Gary Whisenhunt et Ray Wood. Le joueur peut contrôler un personnage et doit affronter des adversaires à la recherche d’un trésor pour remporter le jeu. Notre projet suit d’une certaine manière cette méthode. Nous avons effectivement repris des idées de système de combat des adversaires digne d’un RPG tel que Pokémon. 
                                    Ce système se reflète sous la forme de combats en tour par tour afin de laisser une partie du combat sur la stratégie et la réflexion en plus de la force du personnage. <br/>
                                    Les graphismes en 2D peuvent rappeler ceux de Undertale ou One Shot. Ce style de graphisme permet de poser une atmosphère différente des jeux en 3D, accompagné de sa musique. Ces points aident le joueur à s’investir dans le jeu et à y rester attaché. <br/>
                                    Le principal point fort du RPG reste que même une fois l’histoire principale terminée, le jeu reste tout de même intéressant. Les ennemis sont toujours présents, il est possible de se promener dans le monde librement autant de temps que nous voulons. <br/>
                                <!--fin du paragraphe-->
                            </p>
                        </div>
                    </li>
                    <li>
                        <button onclick="showOrHide(3)">Histoire et graphismes</button>
                        <div id="content3">
                            <p>
                                <!--Paragraphe sur l'histoire et les graphismes du jeu
                                    synopsis, quêtes, map, perso, etc.-->
                                    Synopsis : <br/>
                                    En sortant de l’hôpital, un portail s’ouvre devant toi. Tu distingues deux hommes armés qui s’approchent de plus en plus de toi avant que ta vue ne se trouble et que tes yeux ne se ferment. Entraîné dans un temps qui n’est pas le tien, là où règne le chaos, sauras-tu faire le chemin retour vers ta soeur alitée pour la sauver de sa maladie ? <br/>
                                    <br/>
                                    Contexte : <br/>
                                    Dans le futur la population humaine est drastiquement plus faible à cause d’une pandémie qui ruina les contrés les unes après les autres tuant plusieurs milliards de gens, et ce malgré l’amélioration de la médecine. Le virus qui en est la cause fut surnommé le Brain Killer car il rend les contaminés complètement amnésiques en quelques mois. Pour pallier ce mal, un laboratoire se lança dans la poursuite d’un remède. <br/>
                                    En besoin de cobayes et profitant de la technologie avancée de voyage temporel vers le passé, le laboratoire décida de chercher ses patients tests dans les esquisses des bâtiments cités.
                                    Une temporalité différente. Le laboratoire se situe dans une des villes fortifiées construites après la crise internationale que le virus a causée. Dans ces villes se regroupent la technologie et les personnes de génies. <br/>
                                    <br/>
                                    Histoire principale du jeu : <br/>
                                    Le joueur se retrouve donc dans ce nouveau monde et dans cette situation des plus compliqués. Le joueur doit, dans un premier temps, s’enfuir du laboratoire. Une fois sorti du laboratoire, le joueur découvre le monde et notamment les différents magasins du jeu. Après s’être familiarisé avec ce nouveau monde, il découvre qu’il existe un moyen de rentrer chez lui et cherche donc à obtenir ce moyen pour retourner auprès de sa soeur. <br/>
                                    Pour cela il sort de la ville et découvre le monde extérieur ou il apprend qu’il existe un remède pour sa soeur. Sachant cela, le joueur va chercher ce remède. Ainsi lorsque le joueur possède et le remède et le moyen de rentrer le joueur dois retourner dans son époque et soigné sa soeur. <br/>
                                    Afin que le joueur suive l’histoire qui lui est conté dans l’ordre chronologique, il est important de concevoir un système de quêtes et d’objectifs à atteindre. J’ai donc découpé l’histoire en chapitres contenant une ou plusieurs quêtes principales et des quêtes annexes (sorte de succès du joueur). Les quêtes se déclenchent en interagissant avec des PNJ (personnages non-joueurs) ou des objets spécifiques. <br/>
                                    Pour avancer dans l’histoire le joueur devra compléter les quêtes principales de chaque chapitre a minima. Le jeu à jouer se termine donc à la fin de la dernière quête principale du jeu. Après cela, la partie se fini sur une cinématique. Il est à noter que tout ceci n’existe encore que sur le papier et reste encore à être implémenté. <br/>
                                    <br/>
                                    <br/>
                                    Ici, il fallait évidemment commencer avec les dessins du personnage principal. J'ai d'abord commencer a créer une base qui sera celle de toutes les autres personnages par la suite. Nous avons opter pour des vêtements plutôt modernes par rapport aux autres personnages dû à l'histoire du jeu, ainsi qu'un pull rouge. Le joueur ressort alors plus distinctement que les autres personnages à l'écran. <br/>
                                    Les autres ennemis ont donc été créés ensuite. Par ceux-ci, nous pouvons retrouver des gardes, bandits, paranoïaques, chercheurs et directeurs de laboratoire qui sont présents dans la ville. Pour l'extérieur, nous avons également créé trois sortes de personnages infectés, inspirés visuellement de zombies. <br/>
                                    Chaque personnage cité ci-dessus possède une animation. Celle-ci sont créés entièrement avec Unity. Avec les objets "Animator" et "Animation", nous avons tout ce qu'il faut. Les objets Animation permettent de créer une animation pour un seul cas, par exemple WalkLeft. Pour cela, il suffit de glisser différentes images du personnage à la suite et l'animation est prête. Il faut ensuite cependant l'appeler pour l'utiliser. <br/>
                                    C'est à cela que sert l'Animator. Il permet de faire les transitions entre les différentes animations qui lui sont assignés selon des paramètres. <br/>
                                <!--fin du paragraphe-->
                            </p>
                        </div>
                    </li>
                    <li>
                        <button onclick="showOrHide(4)">Les menus principal et in-game</button>
                        <div id="content4">
                            <p>
                                <!--Paragraphe sur le menu principal
                                    design et implémentation, options, commandes, in-game, etc.-->
                                Au lancement du jeu, nous arrivons en premier sur le menu principal. Celui-ci se présente avec une image de fond représentant la ville du jeu, où l'endroit principal du jeu. Après plusieurs essais (cf Annexes), nous nous sommes fixés sur l'image ci-dessous. Le grand bâtiment dans le fond représente la mairie de la ville. Le joueur est alors immédiatement plongé dans le jeu, dans la ville qu'il va parcourir. <br/>
                                Devant ce fond, nous pouvons voir des boutons. C'est avec ceux-ci que le joueur peut lancer le jeu, accéder aux commandes, aux options ou quitter le jeu. C'est également moi qui ai réalisé les images des boutons. Le violet est la couleur principale dans notre jeu, vous pourrez voir qu'elle revient assez souvent. <br/>
                                Pour se déplacer sur les boutons, nous pouvons utiliser le mode Navigation (Figure 5), que nous allons utilisés sur tous les autres boutons présents dans le jeu. En mettant le mode Navigation en Explicit, il est alors possible de changer de boutons uniquement avec les flèches et sans avoir besoin de la souris. <br/>
                                Solène a également réalisé le second menu pour le multijoueur en me basant sur la base du second menu en solo. En premier, une indication est la pour le joueur afin de l'aider. Il doit alors en premier choisir de rejoindre la partie en temps que serveur ou client. Ces boutons sont créés automatiquement par Mirror. <br/>
                                Yann est responsable de la mise en fonction des boutons du menu principal. Il a utilisé des panel pour que quand on appuie sur les boutons, on puisse ouvrir une fenêtre pour les autres boutons : histoire, commande et options. <br/>
                                Un problème que nous avons eu avec le MainMenu est que l'affichage se retrouvait en dehors de l'écran. Pour résoudre ce problème, nous avons mis les panels en "scale with screen size" à la place de "constant pixel size". <br/>
                                Quand on crée une nouvelle partie, on efface les anciennes données et initialise les nouvelles données principales telles que les coordonnées, la scène, mais aussi les statistiques initiales. <br/>
                                Lorsque l'on lance le jeu avec le bouton charger la partie, on vérifie si une sauvegarde existe. Si elle existe alors on lance directement le jeu qui chargera automatiquement les données. S'il n'existe aucune sauvegarde alors un message d'erreur apparaît. <br/>
                                <!--fin du paragraphe-->
                            </p>
                        </div>
                    </li>
                    <li>
                        <button onclick="showOrHide(5)">Le mode histoire</button>
                        <div id="content5">
                            <p>
                                <!--Paragraphe sur le mode solo
                                    implémentation game et son-->
                                Nous voulions cr ́eer une ambiance unique pour le jeu. J’ai donc continu ́e
                                la cr ́eation des sons et musiques du jeu. Je dispose maintenant d’un panel
                                d’une dizaine de bruitages diff ́erents (bruits de pas, bruits de respiration, bruits
                                d’attaque, bruits de vent, etc.) et de trois musiques (musique de ville, musique
                                de combat, musique de campagne).
                                Les sons et musiques ont  ́et ́e produits grˆace `a FL Studio.
                                Il y a `a pr ́esent des musiques dans toutes les diff ́erentes sc`enes du jeu, per-
                                mettant de faire varier l’ambiance dans laquelle le joueur est plong ́ee.
                                <br/>
                                <br/>
                                Pour placer les objets sur Unity afin de créer une carte, il suffit de créer des tilemap. Celles-ci apparaissent sous un objet appelé Grid. Nous pouvons alors en créer plusieurs avec des ordres plus ou moins élevés afin de créer une impression de perspective entre les différents objets. Certaines tilemaps possèdent également des tilemap colliders qui permettent d'empêcher le joueur de passer à travers les objets. <br/>
                                Il est alors possible de créer des "Palettes" qui contiennent les différentes images utilisées comme des pinceaux, une fois dans Unity. Il devient alors possible d’appliquer ces textures directement sur la scène de Unity. Cet outil est extrêmement pratique et rend alors la création de carte très facile. <br/>
                                Ces colliders ont parfois du être modifiés afin de créer encore plus de perspectives. Pour cela, il a fallu modifier les physiques du sprite même. Il suffit de générer les côtés puis de les modifier manuellement. Après cela, le joueur peut alors passer sa tête sur le bas d'un bâtiment et cacher ses pieds à l'arrière de celui-ci par exemple. Il a également fallu créer 2 tilemaps différentes pour cela, une avec un ordre inférieur au joueur et l'autre avec un ordre supérieur. <br/>
                                Pour délimiter les terrains, nous avons utilisé des objets qui sont en corrélation avec l'histoire. Pour la ville, celle-ci est entourée de murs qui empêche le joueur de sortir par un autre endroit que par la porte principale. Cette dernière permet donc de passer d'une scène à une autre, soit de la ville à l'extérieur ou inversement. L'extérieur, lui, est délimité par des arbres qui entourent la scène de jeu et l'extérieur du mur pour montrer que les deux endroits sont corrélés entre eux. Le joueur ne peut à nouveau pas aller plus loin que le visuel de la scène. <br/>
                                Par ailleurs, dans la ville, des pavés se situent au pieds du joueur et se démarquent de l'herbe présente partout. Le joueur peut alors mieux se repérer dans l'espace et avec la mini carte implémentée. C'est aussi comme une sorte d'indication pour l'endroit où se trouve les bâtiments. <br/>
                                Pour pouvoir ramasser et stocker dans l'inventaire, on a du passer par des sprite renderer qui ont permis de stocker les objets dans l'inventaire. On a mis des box colliders 2D et au contact des box colliders 2D l'objet est ramassé, stocker dans l'inventaire et détruite. <br/>
                                De plus nous avons dessiner des bâtiments, des objets tels que des maisons ou encore des poubelles. <br/>
                                L'idée originale était que le joueur pour se déconnecter se situe proche d'un lit et que la partie actuelle soit sauvegardée. Cependant, la sauvegarde a lieu lors de chaque combat ou lorsque le joueur va dans le menu option. Par conséquent, le joueur réapparaît à la dernière position sauvegarde. <br/>
                                <!--fin du paragraphe-->
                            </p>
                        </div>
                    </li>
                    <li>
                        <button onclick="showOrHide(6)">Le multijoueur</button>
                        <div id="content6">
                            <p>
                                <!--Paragraphe sur le mode multi
                                    implémentation multijoueur-->
                                    Le multijoueur a  ́et ́e la partie la plus difficile pour moi parmi tout le projet.
                                    C’ ́etait une notion que je ne connaissais absolument pas du cˆot ́e de la program-
                                    mation et j’ai donc pu d ́ecouvrir un aspect de Unity que je n’avais pas d ́ecouvert
                                    au d ́ebut du projet. Le mode multijoueur est détaché de l'histoire principale et ne permet que de lancer des combats ou récupérer des objets. Toutes les quêtes et la scène d'introduction qui se trouve dans le mode solo n'existent pas ici. Le jeu est alors simplifié en multijoueur, mais n'en reste pas moins amusant. 
                                    Cependant, nous avons tout de même dû laisser des sauvegardes pour le multijoueur, que j'ai aussi du réécrire pour l'adapter à deux joueurs. Il suffit simplement de changer les scripts "pseudo" en "pseudo1" et "pseudo2", mettant les données dans la bonne sauvegarde pour le joueur serveur et le joueur client. 
                                    J'ai fait le choix d'utiliser le module Mirror disponible sur Unity afin de créer mon multijoueur. Mirror est une API en réseau de haut niveau qui prend en charge différents transports de bas niveau. Il est alors devenu possible de jouer à plusieurs sur un seul ordinateur, mais également à deux sur deux ordinateurs différents en réseau local. 
                                    Comme dit précédemment, le multijoueur était assez compliqué à comprendre, même avec certaines documentations, donc j'ai préféré réaliser un multijoueur à seulement deux joueurs plutôt qu'avec de nombreux joueurs mais non fonctionnel. De plus, l'affichage est alors plus clair et plus compréhensible. 
                                    La première notion de Mirror que j'ai pu rencontrer est celle du NetworkManager. C'est en effet cet objet, préinstallé avec de nombreux scripts, qui permet de connecter plusieurs joueurs sur une et même partie. Pour ce projet, j'ai du mettre l'option Client Authority en vrai afin que le client puisse lui aussi envoyer des données au serveur. 
                                    En effet, en temps normal, seul le serveur peut envoyer des données aux clients. L'inverse donne un trop grand pouvoir au client, et il devient alors dangereux pour le jeu d'activer cette fonction, surtout dans un jeu pouvant accueillir un grand nombre de client. 
                                    Il a donc également fallu que je glisse l'objet préfabriqué du nouveau joueur spécialement conçu pour le multijoueur dans la case qui permet au NetworkManager de créer le joueur actuel. 
                                    En premier, pour créer le multijoueur, j'ai essayé de simplement dupliquer les scènes utilisées dans le mode solo. Malheureusement, ce n'est pas aussi simple. Un grand problème que j'ai rencontré dès le début est que dans un grand nombre de mes codes en solo, j'utilisais le Box Collider 2D associé au joueur. Il a donc fallut que je réécrive la plupart de mes codes pour les adapter au multijoueur. 
                                    J'ai trouvé la solution d'utiliser un tag "Player" pour que les autres Box Collider 2D présents dans la scène puisse déterminer si l'objet qu'il touche est un joueur. 
                                    Par soucis de simplicité, j'ai également mis les trois scènes que nous pouvons trouver pour le mode solo en une seule et même scène pour le multijoueur. En effet, je n'ai pas trouvé la documentation nécessaire pour changer un seul joueur de scène. 
                                    A la place, les scènes sont espacées pour ne pas toutes les apercevoir en même temps. Nous déplaçons alors simplement les coordonnées du personnage pour qu'il puisse passer au bon endroit automatiquement, toujours grâce à la porte principale. 
                                    Pour les combats, j'ai alors décidé de créer deux scènes de combats différentes pour les deux joueurs. En effet, quand les deux joueurs étaient sur la même partie, des problèmes était alors créer. Grâce à cette méthode, le jeu peut alors savoir si le joueur en combat est le serveur ou le client et peut donc modifier les statistiques du bon personnage. 
                                    J'ai donc dû à nouveau créer deux scripts différents pour les deux scènes de combat. Les scripts enregistrent alors des booléens pour savoir si le client est en combat et/ou le serveur est en combat. Effectivement, les deux joueurs peuvent alors être en combat en même temps. 
                                    Et pour finir, lorsque le client connecté quitte le mode multijoueur, il se retrouve à nouveau sur le menu principal. Pour cela, j'ai simplement dû glisser la scène du menu principal dans le paramètre Offline du NetworkManager pour que le jeu ramène directement à cette scène. 
                                <!--fin du paragraphe-->
                            </p>
                        </div>
                    </li>
                </ul>
            </div>
        </section>

        <!--cacher le contenu-->
        <script>
            function showOrHide(i) {
                var id = document.getElementById("content" + i.toString())
                if (id.style.display === 'none') {
                    id.style.display = 'contents';
                } 
                else {
                    id.style.display = 'none';
                }
            }
        </script>
        
        <!--bas de page-->
        <footer class="end-page">
            <h3 class="endtitle">Removed From The Past</h3>
            <a class="end-mail">removedfromthepast@gmail.com</a>
        </footer>

    </body>
</html>